Завдання:

I варіант
Легковий автомобіль служби доставки протягом дня має відвідати усі магазини Епіцентр міста Києва. Розглядаємо довільний будній день, точка старту - Південний залізничний вокзал. Час перебування у кожному магазині - 10 хвилин.

Запропонуйте спосіб визначення оптимальної послідовності відвідувань магазинів та часу відправлення (як критерій оптимальності приймається загальний час у дорозі). За можливості продемонструйте план оптимальної поїздки (час прибуття та відправлення для кожного магазину).

Ключове слово-підказка: TomTom

Очікуване рішення: знайти Waypoint Optimization API, врахувати його обмеження у 12 точок - об'єднати кілька поруч розташованих магазинів в одну точку, запустити з різним часом відправлення, обрати найкращий варіант.

Описание Решения задачи:

Для начала я собрал все данные на сайте Эпицентра с часами открытия и координатами всех магазинов города Киев. Потом с помощью скрипты find_nearest_elements.py я нашел близкие к другу другу магазины и обьеденил их в группы. Отклонение по координатам я выбрал 0.035 - это позволит нам создать ровно 12 групп из 15 точек. 

Данные группы я я препратил в обьекты, а также записал их в определенные переменные в main.py. В данном файле происходит основаня логика. Сначала мы генерируем все возможные комбинации элементо внутри группы, это поможет нам с выбором точки внутри группы, а именно с какой точкой наш маршрут будет быстрее. В совокупности получиться около 8 комбинация точек внутри групп. Потом мы создадим 30 минутные интервалы и будем для каждой комбинации и для каждого возможного интервала (7:30, 8:00, 8:30, ..., 18:00) высылать запрос к Waypoint Optimization API. Конечное время 18:00 выбрано из предположения, что мы доставщик успеет доставить продукты до 22:00 - максимального времени работы магазинов. А также из вычесленной средней всех результатов при первом прогоне программы - 3 часа 48 минут. 

Потом мы находим лучший результат с самым маленьким - travelTimeInSeconds. А также задерживаем нашу программу на рандомное время от 1 до двух секунд, чтобы избежать Too Many Requests ошибки. Данный реквест может выдавать ошибки, если предположительный путь слишком сложен, но это все равно не помешает найти лучший путь. 

Данные результаты мы копируем в json файлы best_data_points.json и best_results.json. И потом с помощью скрипты find_best_results.py мы форматируем результаты main.py, учитывая группировку, которую мы сделали до этого. 

Результаты можно найти в файле result.md. 

Если нужно протестировать программу самому понадобиться вставить api_key в папке constants.py. Данный api_key будет прикреплен к имейлу. 